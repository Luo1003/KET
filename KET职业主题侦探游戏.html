<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Detective - Vocabulary Matching Game</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #1a2330;
            background-image: 
                radial-gradient(circle at 15% 20%, rgba(29, 78, 137, 0.2) 0%, transparent 20%),
                radial-gradient(circle at 85% 30%, rgba(46, 104, 117, 0.2) 0%, transparent 20%),
                radial-gradient(circle at 50% 80%, rgba(73, 44, 102, 0.2) 0%, transparent 20%);
            color: #e6f7ff;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .game-container {
            max-width: 1200px;
            margin: 20px auto;
            background: rgba(10, 20, 35, 0.85);
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.7);
            overflow: hidden;
            border: 3px solid #2a5e8c;
            position: relative;
            padding-bottom: 20px;
        }
        
        header {
            background: linear-gradient(135deg, #2c3e50, #152238);
            color: #fff;
            padding: 25px 30px;
            text-align: center;
            position: relative;
            border-bottom: 3px solid #ffd166;
        }
        
        .header-content {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
        }
        
        h1 {
            font-size: 3.8rem;
            letter-spacing: 3px;
            margin-bottom: 10px;
            text-shadow: 0 0 10px #4cc9f0, 3px 3px 0 #1a4066;
            background: linear-gradient(to right, #ffd166, #4cc9f0);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
        }
        
        .subtitle {
            font-size: 1.8rem;
            color: #ffd166;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            font-weight: 500;
        }
        
        .case-badge {
            display: inline-block;
            background: #ef476f;
            border-radius: 50px;
            padding: 10px 20px;
            font-weight: bold;
            font-size: 1.5rem;
            box-shadow: 0 4px 15px rgba(239, 71, 111, 0.4);
            margin-top: 15px;
            border: 2px solid #ffa8ba;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .game-content {
            display: flex;
            min-height: 500px;
            padding: 20px;
            gap: 25px;
        }
        
        .case-files {
            flex: 1;
            min-width: 250px;
            background: rgba(20, 40, 70, 0.7);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #3d5a80;
            box-shadow: inset 0 0 15px rgba(0, 20, 50, 0.5);
            overflow-y: auto;
            max-height: 650px;
        }
        
        .file-title {
            text-align: center;
            font-size: 2rem;
            color: #ffd166;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px dashed #ffd166;
            text-shadow: 0 2px 3px rgba(0, 0, 0, 0.5);
        }
        
        .case-note {
            background: rgba(45, 75, 110, 0.6);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #4cc9f0;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
        }
        
        .note-title {
            font-size: 1.4rem;
            color: #ffd166;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .note-content {
            font-size: 1.15rem;
            line-height: 1.7;
            padding-left: 10px;
        }
        
        .progress-container {
            background: rgba(30, 60, 90, 0.6);
            border-radius: 10px;
            padding: 20px;
            margin-top: 25px;
            text-align: center;
        }
        
        .progress-title {
            font-size: 1.5rem;
            color: #4cc9f0;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .progress-bar {
            width: 100%;
            height: 25px;
            background: rgba(40, 80, 120, 0.6);
            border-radius: 12px;
            margin-top: 10px;
            overflow: hidden;
            border: 1px solid #2a5e8c;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4cc9f0, #3a86ff);
            border-radius: 12px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            font-weight: bold;
        }
        
        .detail-title {
            font-size: 1.5rem;
            color: #4cc9f0;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .detail-content {
            font-size: 1.2rem;
            line-height: 1.7;
            padding-left: 5px;
        }
        
        .game-area {
            flex: 3;
            background: rgba(25, 45, 70, 0.7);
            border-radius: 15px;
            border: 2px solid #3d5a80;
            padding: 30px;
            box-shadow: inset 0 0 20px rgba(0, 10, 30, 0.6);
            position: relative;
            overflow: hidden;
        }
        
        .section-title {
            font-size: 2.5rem;
            text-align: center;
            color: #ffd166;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(255, 209, 102, 0.3);
            text-shadow: 0 2px 3px rgba(0, 0, 0, 0.5);
        }
        
        .section-subtitle {
            font-size: 1.6rem;
            text-align: center;
            color: #4cc9f0;
            margin-bottom: 30px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .evidence-board {
            background: rgba(20, 40, 70, 0.6);
            border-radius: 15px;
            padding: 30px;
            border: 2px solid #4a6fa5;
            max-width: 900px;
            margin: 0 auto;
        }
        
        .match-container {
            display: flex;
            justify-content: space-between;
            gap: 30px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .word-column, .synonym-column {
            flex: 1;
            min-width: 300px;
            min-height: 350px;
            border-radius: 15px;
            padding: 20px;
            background: rgba(30, 50, 80, 0.6);
        }
        
        .word-column {
            border: 3px solid #4a6fa5;
            box-shadow: 0 0 15px rgba(74, 111, 165, 0.4);
        }
        
        .synonym-column {
            border: 3px solid #ff9e5e;
            box-shadow: 0 0 15px rgba(255, 158, 94, 0.4);
        }
        
        .column-title {
            text-align: center;
            font-weight: bold;
            margin-bottom: 20px;
            font-size: 1.7rem;
            color: #ffd166;
            padding-bottom: 10px;
            border-bottom: 1px dashed #ffd166;
        }
        
        .word-item, .synonym-item {
            background: rgba(45, 70, 100, 0.8);
            padding: 16px 25px;
            margin: 15px 0;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.5rem;
            transition: all 0.3s ease;
            text-align: center;
            border: 2px solid transparent;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .word-item {
            border-color: #4a6fa5;
        }
        
        .synonym-item {
            border-color: #ff9e5e;
        }
        
        .word-item:hover, .synonym-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
            background: rgba(60, 90, 130, 0.9);
        }
        
        .word-item.selected {
            background-color: rgba(74, 111, 165, 0.7);
            border-color: #ffd166;
        }
        
        .synonym-item.selected {
            background-color: rgba(255, 158, 94, 0.7);
            border-color: #ffd166;
        }
        
        .match-result {
            text-align: center;
            min-height: 110px;
            margin-top: 20px;
            padding: 20px;
            border-radius: 15px;
            font-size: 1.4rem;
            display: none;
        }
        
        .correct {
            background: rgba(40, 180, 100, 0.2);
            color: #a3ffbf;
            border: 2px solid #2ecc71;
            display: block;
            animation: pulse 1s;
        }
        
        .incorrect {
            background: rgba(180, 60, 60, 0.2);
            color: #ffb8b8;
            border: 2px solid #e74c3c;
            display: block;
        }
        
        .example-sentence {
            font-style: italic;
            margin-top: 15px;
            font-size: 1.3rem;
            color: #ffd166;
            line-height: 1.7;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            margin-top: 30px;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 16px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.4rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #4a6fa5, #2c3e50);
            color: #fff;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: #fff;
        }
        
        .btn-warning {
            background: linear-gradient(135deg, #ffd166, #ff9e5e);
            color: #152238;
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #ef476f, #d00000);
            color: #fff;
        }
        
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn i {
            font-size: 1.4rem;
        }
        
        /* Certificate */
        .certificate {
            text-align: center;
            padding: 50px 40px;
            background: rgba(20, 40, 70, 0.9);
            border-radius: 15px;
            border: 3px solid #ffd166;
            max-width: 800px;
            margin: 30px auto;
            display: none;
        }
        
        .certificate.active {
            display: block;
            animation: slideIn 0.8s ease;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .certificate-title {
            font-size: 3.8rem;
            color: #ffd166;
            margin-bottom: 25px;
            text-shadow: 0 0 15px rgba(255, 209, 102, 0.5);
        }
        
        .certificate-subtitle {
            font-size: 2.2rem;
            color: #4cc9f0;
            margin-bottom: 30px;
        }
        
        .player-name {
            font-size: 3.2rem;
            color: #fff;
            margin: 30px 0;
            padding: 20px;
            border-top: 2px solid #4cc9f0;
            border-bottom: 2px solid #4cc9f0;
            display: inline-block;
        }
        
        .certificate-content {
            font-size: 1.5rem;
            line-height: 1.8;
            margin-bottom: 40px;
            color: #e6f7ff;
        }
        
        .mastered-words {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }
        
        .word-card {
            background: rgba(45, 75, 110, 0.6);
            padding: 15px 25px;
            border-radius: 10px;
            border: 1px solid #ffd166;
            min-width: 250px;
            text-align: center;
        }
        
        .word {
            font-size: 1.8rem;
            color: #ffd166;
            margin-bottom: 8px;
        }
        
        .synonym {
            font-size: 1.6rem;
            color: #a3ffbf;
        }
        
        .print-btn {
            margin-top: 30px;
            padding: 18px 45px;
            font-size: 1.5rem;
        }
        
        /* Confetti Effect */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }
        
        .confetti {
            position: absolute;
            width: 12px;
            height: 12px;
            background-color: #f00;
            animation: fall linear forwards;
        }
        
        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* Responsive Design */
        @media (max-width: 900px) {
            .game-content {
                flex-direction: column;
            }
            
            .case-files {
                max-height: none;
            }
            
            h1 {
                font-size: 3rem;
            }
            
            .subtitle {
                font-size: 1.5rem;
            }
        }
        
        @media (max-width: 600px) {
            .match-container {
                flex-direction: column;
            }
            
            .word-column, .synonym-column {
                min-width: 100%;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .btn {
                padding: 14px 25px;
                font-size: 1.3rem;
            }
        }
        
        /* Animations */
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(46, 204, 113, 0.7); }
            70% { transform: scale(1.03); box-shadow: 0 0 0 15px rgba(46, 204, 113, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(46, 204, 113, 0); }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <header>
            <div class="header-content">
                <h1>CAREER DETECTIVE</h1>
                <div class="subtitle">Match Career Descriptions with Their Titles!</div>
                <div class="case-badge">CASE #KET2024</div>
            </div>
        </header>
        
        <div class="game-content">
            <div class="case-files">
                <h2 class="file-title"><i class="fas fa-folder-open"></i> CASE FILES</h2>
                
                <div class="case-note">
                    <div class="note-title"><i class="fas fa-clipboard-list"></i> CASE BRIEF:</div>
                    <div class="note-content">
                        <p>Important career vocabulary has been stolen! Your mission is to find the correct career titles for each description.</p>
                        <p>Complete all matches to become a Career Vocabulary Expert!</p>
                    </div>
                </div>
                
                <div class="case-note">
                    <div class="note-title"><i class="fas fa-user-secret"></i> YOUR MISSION:</div>
                    <div class="note-content">
                        <p>Match the career descriptions in the left column with their correct job titles in the right column.</p>
                        <p>Each correct match will earn you a clue to solve the case!</p>
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-title"><i class="fas fa-chart-line"></i> CASE PROGRESS</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill">0/11</div>
                    </div>
                </div>
                
                <div class="detail-title"><i class="fas fa-lightbulb"></i> DETECTIVE TIPS:</div>
                <div class="detail-content">
                    <p>• Read each description carefully</p>
                    <p>• Look for keywords and contextual clues</p>
                    <p>• Think about real-world job titles</p>
                    <p>• Use the hint button if you need help</p>
                </div>
            </div>
            
            <div class="game-area">
                <!-- Evidence Matching Section -->
                <div id="evidence-section" class="game-section active">
                    <h2 class="section-title"><i class="fas fa-search"></i> CAREER VOCABULARY MATCHING</h2>
                    <p class="section-subtitle">Match the career descriptions with their correct job titles to earn clues!</p>
                    
                    <div class="evidence-board">
                        <div class="match-container">
                            <div class="word-column">
                                <div class="column-title">JOB DESCRIPTION</div>
                                <div id="word-list">
                                    <!-- Words filled dynamically -->
                                </div>
                            </div>
                            
                            <div class="synonym-column">
                                <div class="column-title">JOB TITLES</div>
                                <div id="synonym-list">
                                    <!-- Synonyms filled dynamically -->
                                </div>
                            </div>
                        </div>
                        
                        <div id="match-result" class="match-result">
                            <!-- Results shown here -->
                        </div>
                        
                        <div class="controls">
                            <button class="btn btn-warning" id="hoint-btn">
                                <i class="fas fa-lightbulb"></i> GET A HINT
                            </button>
                            <button class="btn btn-success" id="next-clue" style="display: none;">
                                <i class="fas fa-arrow-right"></i> NEXT CLUE
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Certificate Section -->
                <div id="certificate-section" class="certificate">
                    <div class="certificate-title">CAREER VOCABULARY EXPERT</div>
                    <div class="certificate-subtitle">Certificate of Achievement</div>
                    
                    <div class="certificate-content">
                        <p>This certificate is awarded to:</p>
                        <div class="player-name">DETECTIVE AGENT</div>
                        <p>For successfully solving Case #KET2024 and mastering career vocabulary!</p>
                    </div>
                    
                    <div class="mastered-words" id="mastered-words">
                        <!-- Mastered words added here -->
                    </div>
                    
                    <button class="btn btn-warning print-btn" onclick="window.print()">
                        <i class="fas fa-print"></i> PRINT CERTIFICATE
                    </button>
                    <button class="btn btn-primary" id="play-again-btn" style="margin-top: 15px;">
                        <i class="fas fa-redo"></i> PLAY AGAIN
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Career vocabulary data based on user's requirements
            const evidencePairs = [
                { word: "grow food", synonym: "farmer", example: "Farmers grow food to feed everyone." },
                { word: "write for newspaper", synonym: "journalist", example: "Journalists write articles for newspapers." },
                { word: "look after sick people", synonym: "nurse", example: "Nurses look after sick people in hospitals." },
                { word: "tell people what to do at work", synonym: "manager", example: "Managers tell employees what tasks to complete." },
                { word: "repair cars", synonym: "mechanic", example: "Mechanics repair vehicles in garages." },
                { word: "look after people's teeth", synonym: "dentist", example: "Dentists look after people's dental health." },
                { word: "meet people when they first come to the office", synonym: "receptionist", example: "Receptionists greet visitors to an office." },
                { word: "fly planes", synonym: "pilot", example: "Pilots fly airplanes for travel." },
                { word: "show tourists round", synonym: "tour guide", example: "Tour guides show tourists around cities." },
                { word: "be in play & work in theatre", synonym: "actor", example: "Actors perform in plays in theatres." },
                { word: "pupil", synonym: "student", example: "Elementary school pupils are students." }
            ];

            // Game state
            let gameState = {
                evidenceProgress: 0,
                totalPairs: evidencePairs.length,
                currentEvidencePair: null,
                selectedWord: null,
                selectedSynonym: null,
                masteredWords: []
            };
            
            // Cache DOM elements
            const elements = {
                progressFill: document.getElementById('progress-fill'),
                wordList: document.getElementById('word-list'),
                synonymList: document.getElementById('synonym-list'),
                matchResult: document.getElementById('match-result'),
                nextClue: document.getElementById('next-clue'),
                hintBtn: document.getElementById('hoint-btn'),
                evidenceSection: document.getElementById('evidence-section'),
                certificateSection: document.getElementById('certificate-section'),
                masteredWords: document.getElementById('mastered-words'),
                playAgainBtn: document.getElementById('play-again-btn')
            };
            
            // Initialize game
            initializeGame();
            
            // Event listeners
            elements.hintBtn.addEventListener('click', showHint);
            elements.nextClue.addEventListener('click', nextEvidenceTask);
            elements.playAgainBtn.addEventListener('click', resetGame);
            
            // Initialize the game
            function initializeGame() {
                updateProgressDisplay();
                startEvidenceTask();
            }
            
            // Start an evidence matching task
            function startEvidenceTask() {
                // Reset selections
                gameState.selectedWord = null;
                gameState.selectedSynonym = null;
                
                // Get a random evidence pair
                const availablePairs = evidencePairs.filter(pair => 
                    !gameState.masteredWords.some(w => w.word === pair.word));
                
                if (availablePairs.length === 0) {
                    // If all pairs have been completed
                    if (gameState.evidenceProgress >= gameState.totalPairs) {
                        completeEvidenceTask();
                        return;
                    } else {
                        // Use random pair if no unmatched pairs available
                        const randomIndex = Math.floor(Math.random() * evidencePairs.length);
                        gameState.currentEvidencePair = evidencePairs[randomIndex];
                    }
                } else {
                    const randomIndex = Math.floor(Math.random() * availablePairs.length);
                    gameState.currentEvidencePair = availablePairs[randomIndex];
                }
                
                // Render the evidence task
                renderEvidenceTask();
            }
            
            // Render evidence task
            function renderEvidenceTask() {
                elements.wordList.innerHTML = '';
                elements.synonymList.innerHTML = '';
                elements.matchResult.style.display = 'none';
                elements.nextClue.style.display = 'none';
                
                // Add the word
                const wordItem = document.createElement('div');
                wordItem.className = 'word-item';
                wordItem.textContent = gameState.currentEvidencePair.word;
                wordItem.dataset.word = gameState.currentEvidencePair.word;
                wordItem.addEventListener('click', selectWord);
                elements.wordList.appendChild(wordItem);
                
                // Generate synonyms (correct and 3 distractors)
                const synonyms = [
                    gameState.currentEvidencePair.synonym, 
                    ...getDistractors(gameState.currentEvidencePair.synonym)
                ].sort(() => Math.random() - 0.5);
                
                // Add synonyms
                synonyms.forEach(syn => {
                    const synonymItem = document.createElement('div');
                    synonymItem.className = 'synonym-item';
                    synonymItem.textContent = syn;
                    synonymItem.dataset.synonym = syn;
                    synonymItem.addEventListener('click', selectSynonym);
                    elements.synonymList.appendChild(synonymItem);
                });
            }
            
            // Get distractors for a given synonym
            function getDistractors(correctSynonym) {
                const distractors = [];
                const allSynonyms = evidencePairs.map(pair => pair.synonym);
                
                while (distractors.length < 3) {
                    const randomIndex = Math.floor(Math.random() * allSynonyms.length);
                    const candidate = allSynonyms[randomIndex];
                    
                    if (candidate !== correctSynonym && !distractors.includes(candidate)) {
                        distractors.push(candidate);
                    }
                }
                
                return distractors;
            }
            
            // Handle word selection
            function selectWord(e) {
                const word = e.target.dataset.word;
                gameState.selectedWord = word;
                
                // Highlight the selected word
                document.querySelectorAll('.word-item').forEach(item => {
                    item.classList.remove('selected');
                });
                e.target.classList.add('selected');
                
                // If both word and synonym are selected, check the match
                if (gameState.selectedWord && gameState.selectedSynonym) {
                    checkEvidenceMatch();
                }
            }
            
            // Handle synonym selection
            function selectSynonym(e) {
                const synonym = e.target.dataset.synonym;
                gameState.selectedSynonym = synonym;
                
                // Highlight the selected synonym
                document.querySelectorAll('.synonym-item').forEach(item => {
                    item.classList.remove('selected');
                });
                e.target.classList.add('selected');
                
                // If both word and synonym are selected, check the match
                if (gameState.selectedWord && gameState.selectedSynonym) {
                    checkEvidenceMatch();
                }
            }
            
            // Check if the evidence match is correct
            function checkEvidenceMatch() {
                const isCorrect = gameState.selectedSynonym === gameState.currentEvidencePair.synonym;
                
                if (isCorrect) {
                    // Update game state
                    gameState.evidenceProgress++;
                    gameState.masteredWords.push({
                        word: gameState.currentEvidencePair.word,
                        synonym: gameState.selectedSynonym,
                        example: gameState.currentEvidencePair.example
                    });
                    
                    // Show result
                    elements.matchResult.className = 'match-result correct';
                    elements.matchResult.innerHTML = `
                        <i class="fas fa-check-circle"></i> CORRECT! You found the career match!
                        <div class="example-sentence">Example: "${gameState.currentEvidencePair.example}"</div>
                    `;
                    elements.matchResult.style.display = 'block';
                    
                    // Show confetti
                    createConfetti();
                    
                    // Update progress
                    updateProgressDisplay();
                    
                    // Show next button
                    elements.nextClue.style.display = 'block';
                    
                    // Check if the game is complete
                    if (gameState.evidenceProgress >= gameState.totalPairs) {
                        setTimeout(completeEvidenceTask, 1500);
                    }
                } else {
                    // Show result
                    elements.matchResult.className = 'match-result incorrect';
                    elements.matchResult.innerHTML = `
                        <i class="fas fa-times-circle"></i> Incorrect match. Try again!
                    `;
                    elements.matchResult.style.display = 'block';
                    
                    // Clear the incorrect synonym selection
                    gameState.selectedSynonym = null;
                    document.querySelectorAll('.synonym-item').forEach(item => {
                        item.classList.remove('selected');
                    });
                }
            }
            
            // Update progress display
            function updateProgressDisplay() {
                elements.progressFill.textContent = `${gameState.evidenceProgress}/${gameState.totalPairs}`;
                elements.progressFill.style.width = `${(gameState.evidenceProgress / gameState.totalPairs) * 100}%`;
            }
            
            // Move to next evidence task
            function nextEvidenceTask() {
                if (gameState.evidenceProgress < gameState.totalPairs) {
                    startEvidenceTask();
                }
            }
            
            // Complete all evidence tasks
            function completeEvidenceTask() {
                // Switch to certificate view
                elements.evidenceSection.style.display = 'none';
                elements.certificateSection.classList.add('active');
                
                // Display mastered words
                elements.masteredWords.innerHTML = '';
                gameState.masteredWords.forEach(word => {
                    const wordCard = document.createElement('div');
                    wordCard.className = 'word-card';
                    wordCard.innerHTML = `
                        <div class="word">${word.word}</div>
                        <div class="synonym">${word.synonym}</div>
                    `;
                    elements.masteredWords.appendChild(wordCard);
                });
                
                // Show the player's "name" as their achievements
                document.querySelector('.player-name').textContent = `Completed ${gameState.totalPairs} Matches`;
            }
            
            // Show hint
            function showHint() {
                const hint = `Hint: "${gameState.currentEvidencePair.word}" describes a "${gameState.currentEvidencePair.synonym}". Example: "${gameState.currentEvidencePair.example}"`;
                alert("DETECTIVE HINT: " + hint);
            }
            
            // Create confetti effect
            function createConfetti() {
                const container = document.body;
                const colors = ['#ffd166', '#ef476f', '#06d6a0', '#118ab2', '#073b4c'];
                
                for (let i = 0; i < 80; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.width = Math.random() * 10 + 5 + 'px';
                    confetti.style.height = confetti.style.width;
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDuration = Math.random() * 3 + 2 + 's';
                    container.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, 5000);
                }
            }
            
            // Reset the game
            function resetGame() {
                gameState = {
                    evidenceProgress: 0,
                    totalPairs: evidencePairs.length,
                    currentEvidencePair: null,
                    selectedWord: null,
                    selectedSynonym: null,
                    masteredWords: []
                };
                
                // Reset UI
                elements.certificateSection.classList.remove('active');
                elements.evidenceSection.style.display = 'block';
                updateProgressDisplay();
                startEvidenceTask();
            }
        });
    </script>
</body>
</html>